var existingSvg = document.getElementById('canvas');
var draw = SVG.adopt(existingSvg);
var bt_download = document.getElementById('bt_download');

bt_download.addEventListener('click', function(){
    var ns = document.getElementById('canvas');

    // Create Blob object
    var svgData = new XMLSerializer().serializeToString(ns);
    var blob = new Blob([svgData], { type: "image/svg+xml;charset=utf-8" });

    // Create URL for Blob
    var blobUrl = URL.createObjectURL(blob);

    // Create download link
    var link = document.createElement("a");
    link.href = blobUrl;
    var name = document.getElementById('name_input').value;
    name = name.toLowerCase();
    link.download = name+".svg";

    // Add document link to document to start de download
    document.body.appendChild(link);
    link.click();

    // Clean URL object
    document.body.removeChild(link);
    URL.revokeObjectURL(blobUrl);

});

/* 
    Start
*/

//var rect = draw.rect(100, 100).stroke({color:'black', with: 10}).fill('#fff').move(20,20);
/* var rect = draw.rect(100, 100)
  .stroke({ color: 'black' })
  .fill('#fff')
  .move(20, 20); */
//var rect2 = draw.rect(120, 120).fill('none').stroke({ color: 'black'}).move(10, 10)
//var rect2 = draw.rect(120, 120);

var m = "M 108.6 73.603 L 107.8 73.203 A 20.99 20.99 0 0 0 106.813 74.272 Q 105.2 76.128 102.8 79.503 A 255.523 255.523 0 0 0 97.957 86.572 A 294.511 294.511 0 0 0 96.3 89.103 Q 93 94.203 90.2 98.803 Q 88.089 102.271 87.115 104.375 A 15.908 15.908 0 0 0 86.6 105.603 A 21.846 21.846 0 0 1 83.701 111.273 A 19.283 19.283 0 0 1 81.1 114.203 A 12.496 12.496 0 0 1 75.333 117.164 A 18.39 18.39 0 0 1 71.2 117.603 A 11.961 11.961 0 0 1 65.079 115.889 A 15.515 15.515 0 0 1 63.6 114.903 A 29.159 29.159 0 0 1 59.729 111.385 A 38.964 38.964 0 0 1 56.8 107.803 A 85.703 85.703 0 0 1 52.355 101.014 A 100.387 100.387 0 0 1 50.7 98.103 Q 47.8 92.803 45.1 87.603 Q 42.4 82.403 40 77.903 Q 37.6 73.403 35.4 70.803 Q 34.663 73.75 33.587 80.259 A 378.659 378.659 0 0 0 33.4 81.403 Q 32.2 88.803 30.7 97.903 Q 29.2 107.003 27.1 116.803 Q 25 126.603 22.3 134.603 A 82.394 82.394 0 0 1 20.191 140.21 Q 18.363 144.553 16.3 147.803 A 16.603 16.603 0 0 1 14.483 150.199 Q 11.884 153.003 8.8 153.003 A 8.779 8.779 0 0 1 5.863 152.535 A 7.331 7.331 0 0 1 2.3 149.803 Q 0 146.603 0 143.003 Q 0 138.603 0.5 134.203 Q 1 129.803 1.8 125.403 Q 5 100.603 7.5 75.803 Q 10 51.003 13.4 26.003 Q 14.4 20.803 17.8 17.003 A 11.079 11.079 0 0 1 23.945 13.543 A 16.673 16.673 0 0 1 27.4 13.203 Q 37.4 13.203 41.4 22.203 Q 42.2 24.203 42.6 26.303 Q 43 28.403 43.4 30.603 Q 46.8 46.403 53.3 60.603 Q 59.8 74.803 68.4 88.603 A 174.503 174.503 0 0 0 69.775 86.622 Q 71.855 83.586 75.195 78.525 A 1235.56 1235.56 0 0 0 76 77.303 Q 81.2 69.403 87.9 59.603 A 1077.951 1077.951 0 0 1 98.456 44.453 A 1239.722 1239.722 0 0 1 102.2 39.203 A 384.449 384.449 0 0 1 111.084 27.286 A 309.461 309.461 0 0 1 117 19.903 A 158.765 158.765 0 0 1 122.933 13.115 Q 126.9 8.841 130.6 5.603 A 40.995 40.995 0 0 1 133.661 3.155 Q 136.79 0.908 139.289 0.263 A 7.655 7.655 0 0 1 141.2 0.003 Q 147.6 0.003 152.1 4.203 A 14.585 14.585 0 0 1 155.254 8.338 A 12.937 12.937 0 0 1 156.6 14.203 A 59.416 59.416 0 0 1 155.528 25.283 A 66.633 66.633 0 0 1 155.2 26.903 Q 153.8 33.403 151.9 40.103 Q 150 46.803 148.1 53.303 A 106.977 106.977 0 0 0 145.607 63.668 A 95.706 95.706 0 0 0 145.2 66.003 A 413.707 413.707 0 0 0 143.081 82.71 A 461.809 461.809 0 0 0 142.5 88.503 A 245.613 245.613 0 0 0 141.417 108.443 A 222.648 222.648 0 0 0 141.4 111.203 Q 141.4 117.803 142.9 120.403 A 19.375 19.375 0 0 0 144.102 122.252 Q 144.764 123.145 145.46 123.827 A 9.986 9.986 0 0 0 146.1 124.403 Q 147.8 125.803 149.3 127.303 A 3.844 3.844 0 0 1 150.091 128.524 Q 150.8 130.178 150.8 133.203 Q 150.8 139.003 146.2 141.903 Q 141.6 144.803 136 144.803 A 22.542 22.542 0 0 1 130.251 144.105 A 17.106 17.106 0 0 1 123.7 140.803 A 28.216 28.216 0 0 1 117.643 133.852 A 35.264 35.264 0 0 1 115.7 130.303 A 52.843 52.843 0 0 1 112.241 120.657 A 63.837 63.837 0 0 1 111.2 115.803 Q 109.8 107.803 109.2 99.903 Q 108.6 92.003 108.6 85.003 L 108.6 73.603 Z";
var a = "M 48.105 55.013 A 1204.252 1204.252 0 0 0 46.1 57.9 Q 41.6 64.4 36.2 70.7 A 96.332 96.332 0 0 1 28.983 78.28 A 81.01 81.01 0 0 1 25.1 81.7 Q 21.365 84.78 17.93 85.842 A 11.92 11.92 0 0 1 14.4 86.4 Q 10.516 86.4 7.829 84.861 A 9.836 9.836 0 0 1 7.4 84.6 Q 4.6 82.8 3 79.9 A 21.242 21.242 0 0 1 1.106 75.156 A 25.132 25.132 0 0 1 0.7 73.4 Q 0 69.8 0 66.2 Q 0 62.328 1.139 57.317 A 68.991 68.991 0 0 1 1.9 54.3 A 85.889 85.889 0 0 1 5.199 44.68 A 102.737 102.737 0 0 1 7.2 40.1 Q 10.6 32.8 15.1 25.6 Q 19.6 18.4 24.8 12.7 A 56.115 56.115 0 0 1 30.808 6.984 A 45.29 45.29 0 0 1 35.7 3.5 A 24.816 24.816 0 0 1 41.245 0.931 A 19.78 19.78 0 0 1 47.2 0 A 14.072 14.072 0 0 1 49.145 0.127 Q 50.517 0.319 51.6 0.8 A 32.557 32.557 0 0 1 53.733 1.839 A 27.241 27.241 0 0 1 54.9 2.5 A 18.279 18.279 0 0 0 56.533 3.375 A 14.31 14.31 0 0 0 57.8 3.9 A 4.845 4.845 0 0 0 59.187 4.17 Q 59.772 4.201 60.411 4.108 A 7.942 7.942 0 0 0 61 4 Q 62.4 3.6 63.8 3.1 A 8.364 8.364 0 0 1 66.25 2.608 A 7.847 7.847 0 0 1 66.6 2.6 A 10.924 10.924 0 0 1 70.045 3.119 A 8.933 8.933 0 0 1 74.2 6 Q 77 9.4 77 14 Q 77 20 75.3 25.8 A 42.903 42.903 0 0 0 73.607 37.202 A 47.773 47.773 0 0 0 73.6 38 A 48.163 48.163 0 0 0 73.897 43.504 Q 74.216 46.271 74.877 48.639 A 25.968 25.968 0 0 0 75.4 50.3 A 68.547 68.547 0 0 0 77.488 55.549 A 53.119 53.119 0 0 0 79.4 59.4 Q 81.6 63.4 83.4 66.8 Q 85.2 70.2 85.2 74.2 A 13.914 13.914 0 0 1 84.148 79.68 A 13.141 13.141 0 0 1 80.7 84.4 Q 76.2 88.4 70 88.4 A 17.184 17.184 0 0 1 65.43 87.824 A 12.657 12.657 0 0 1 59.5 84.3 Q 55.6 80.2 53.8 74.1 A 44.32 44.32 0 0 1 52.142 64.815 A 52.867 52.867 0 0 1 52 60.9 A 73.794 73.794 0 0 1 52.38 53.261 A 59.012 59.012 0 0 1 53.2 47.8 Q 51.209 50.556 48.105 55.013 Z M 31.4 57.6 A 161.668 161.668 0 0 0 35.799 52.097 Q 39.603 47.103 41.9 43.1 A 71.156 71.156 0 0 0 43.469 40.225 Q 45.55 36.175 46 33.7 A 11.028 11.028 0 0 0 46.095 33.08 Q 46.31 31.341 45.77 30.488 A 1.649 1.649 0 0 0 44.9 29.8 Q 43.464 29.293 40.957 30.999 A 18.097 18.097 0 0 0 40 31.7 A 22.625 22.625 0 0 0 37.912 33.575 Q 35.519 35.981 32.7 39.9 Q 29.561 44.264 26.363 50.563 A 135.543 135.543 0 0 0 24.4 54.6 A 89.293 89.293 0 0 0 23.231 57.219 Q 21.675 60.875 21.3 62.9 A 10.756 10.756 0 0 0 21.222 63.375 Q 21.035 64.72 21.352 65.324 A 0.859 0.859 0 0 0 22 65.8 A 1.323 1.323 0 0 0 22.218 65.818 Q 23.409 65.818 25.6 63.9 Q 27.768 62.003 30.752 58.393 A 100.944 100.944 0 0 0 31.4 57.6 Z";
var r = "M 28.6 14.001 Q 34.2 11.201 40.7 7.901 A 32.132 32.132 0 0 1 46.926 5.479 A 24.951 24.951 0 0 1 53.4 4.601 A 14.21 14.21 0 0 1 56.984 5.024 A 9.134 9.134 0 0 1 62.8 9.401 Q 65.6 14.201 65.6 19.601 A 21.964 21.964 0 0 1 65.089 24.504 Q 63.878 29.789 59.8 32.601 A 22.555 22.555 0 0 1 49.658 36.378 A 29.165 29.165 0 0 1 46 36.601 A 30.586 30.586 0 0 0 41.359 36.927 Q 35.272 37.865 32.6 41.501 A 15.81 15.81 0 0 0 30.371 45.971 Q 29 50.153 29 56.201 A 20.19 20.19 0 0 0 29.613 61.222 A 18.696 18.696 0 0 0 29.8 61.901 Q 30.6 64.601 31.6 67.301 Q 32.6 70.001 33.4 72.801 Q 34.2 75.601 34.2 78.401 A 12.357 12.357 0 0 1 33.737 81.885 A 8.942 8.942 0 0 1 29.9 87.001 Q 25.6 89.801 20.4 89.801 A 12.61 12.61 0 0 1 15.879 89.011 A 11.538 11.538 0 0 1 12.5 87.001 A 22.108 22.108 0 0 1 8.517 82.517 A 27.66 27.66 0 0 1 6.9 79.801 Q 4.6 75.401 3.3 69.801 Q 2 64.201 1.2 58.601 Q 0.4 53.001 0.2 48.001 Q 0.001 43.016 0 39.621 A 125.255 125.255 0 0 1 0 39.601 Q 0 35.801 0.8 29.101 Q 1.6 22.401 3.5 16.001 A 41.01 41.01 0 0 1 6.285 8.965 A 33.999 33.999 0 0 1 8.8 4.801 A 12.511 12.511 0 0 1 11.502 1.971 A 9.918 9.918 0 0 1 17.6 0.001 Q 21.497 0.001 23.86 1.501 A 7.061 7.061 0 0 1 26.4 4.301 A 20.129 20.129 0 0 1 28.479 11.531 A 24.757 24.757 0 0 1 28.6 14.001 Z";
var c = "M 38.2 97.803 Q 42.6 97.803 46 95.203 A 25.008 25.008 0 0 0 50.606 90.573 A 29.968 29.968 0 0 0 52 88.603 A 74.692 74.692 0 0 0 56.244 81.144 A 82.786 82.786 0 0 0 56.8 80.003 Q 59 75.403 61.2 71.403 A 38.018 38.018 0 0 1 63.182 68.171 Q 64.309 66.534 65.506 65.223 A 22.517 22.517 0 0 1 65.9 64.803 A 9.157 9.157 0 0 1 68.025 63.132 A 7.213 7.213 0 0 1 71.6 62.203 A 9.458 9.458 0 0 1 74.339 62.587 A 8.065 8.065 0 0 1 76.5 63.603 A 13.192 13.192 0 0 1 80.053 67.135 A 14.949 14.949 0 0 1 80.1 67.203 Q 81.6 69.403 82.3 72.103 Q 83 74.803 83 77.403 A 37.841 37.841 0 0 1 80.773 90.018 A 45.903 45.903 0 0 1 79.2 93.903 Q 75.4 102.203 69.2 108.903 Q 63 115.603 55 119.803 A 36.203 36.203 0 0 1 43.876 123.583 A 33.213 33.213 0 0 1 38.6 124.003 A 31.882 31.882 0 0 1 28.725 122.517 A 28.061 28.061 0 0 1 22 119.303 Q 14.8 114.603 9.9 107.403 Q 5 100.203 2.5 91.403 A 65.81 65.81 0 0 1 0.296 80.116 A 56.107 56.107 0 0 1 0 74.403 Q 0 63.941 3.379 51.507 A 122.289 122.289 0 0 1 3.6 50.703 Q 7.2 37.803 14.1 26.503 A 69.291 69.291 0 0 1 28.472 9.561 A 65.367 65.367 0 0 1 30.9 7.603 Q 40.8 0.003 53.6 0.003 Q 59.8 0.003 65.3 2.303 Q 70.8 4.603 75 8.703 Q 79.2 12.803 81.6 18.203 Q 84 23.603 84 29.803 A 22.878 22.878 0 0 1 83.868 32.185 Q 83.739 33.42 83.482 34.783 A 38.812 38.812 0 0 1 83.4 35.203 Q 82.8 38.203 81.4 40.903 A 16.97 16.97 0 0 1 79.526 43.792 A 14.167 14.167 0 0 1 78 45.403 Q 76 47.203 73.2 47.203 A 11.248 11.248 0 0 1 71.034 47.01 Q 68.213 46.456 67.1 44.303 A 32.843 32.843 0 0 1 65.274 40.032 A 38.819 38.819 0 0 1 64.6 37.903 A 25.493 25.493 0 0 0 62.264 32.284 A 23.526 23.526 0 0 0 61.8 31.503 Q 60.311 29.104 56.633 28.69 A 14.597 14.597 0 0 0 55 28.603 A 14.312 14.312 0 0 0 47.171 30.986 A 20.965 20.965 0 0 0 43.8 33.703 A 43.545 43.545 0 0 0 38.083 40.676 A 56.64 56.64 0 0 0 34.7 46.503 A 76.535 76.535 0 0 0 29.177 60.973 A 86.101 86.101 0 0 0 28.6 63.203 Q 26.4 72.203 26.5 79.903 A 36.044 36.044 0 0 0 26.955 85.313 Q 27.65 89.516 29.4 92.703 Q 31.877 97.214 36.857 97.735 A 12.909 12.909 0 0 0 38.2 97.803 ZM 38.2 97.803 Q 42.6 97.803 46 95.203 A 25.008 25.008 0 0 0 50.606 90.573 A 29.968 29.968 0 0 0 52 88.603 A 74.692 74.692 0 0 0 56.244 81.144 A 82.786 82.786 0 0 0 56.8 80.003 Q 59 75.403 61.2 71.403 A 38.018 38.018 0 0 1 63.182 68.171 Q 64.309 66.534 65.506 65.223 A 22.517 22.517 0 0 1 65.9 64.803 A 9.157 9.157 0 0 1 68.025 63.132 A 7.213 7.213 0 0 1 71.6 62.203 A 9.458 9.458 0 0 1 74.339 62.587 A 8.065 8.065 0 0 1 76.5 63.603 A 13.192 13.192 0 0 1 80.053 67.135 A 14.949 14.949 0 0 1 80.1 67.203 Q 81.6 69.403 82.3 72.103 Q 83 74.803 83 77.403 A 37.841 37.841 0 0 1 80.773 90.018 A 45.903 45.903 0 0 1 79.2 93.903 Q 75.4 102.203 69.2 108.903 Q 63 115.603 55 119.803 A 36.203 36.203 0 0 1 43.876 123.583 A 33.213 33.213 0 0 1 38.6 124.003 A 31.882 31.882 0 0 1 28.725 122.517 A 28.061 28.061 0 0 1 22 119.303 Q 14.8 114.603 9.9 107.403 Q 5 100.203 2.5 91.403 A 65.81 65.81 0 0 1 0.296 80.116 A 56.107 56.107 0 0 1 0 74.403 Q 0 63.941 3.379 51.507 A 122.289 122.289 0 0 1 3.6 50.703 Q 7.2 37.803 14.1 26.503 A 69.291 69.291 0 0 1 28.472 9.561 A 65.367 65.367 0 0 1 30.9 7.603 Q 40.8 0.003 53.6 0.003 Q 59.8 0.003 65.3 2.303 Q 70.8 4.603 75 8.703 Q 79.2 12.803 81.6 18.203 Q 84 23.603 84 29.803 A 22.878 22.878 0 0 1 83.868 32.185 Q 83.739 33.42 83.482 34.783 A 38.812 38.812 0 0 1 83.4 35.203 Q 82.8 38.203 81.4 40.903 A 16.97 16.97 0 0 1 79.526 43.792 A 14.167 14.167 0 0 1 78 45.403 Q 76 47.203 73.2 47.203 A 11.248 11.248 0 0 1 71.034 47.01 Q 68.213 46.456 67.1 44.303 A 32.843 32.843 0 0 1 65.274 40.032 A 38.819 38.819 0 0 1 64.6 37.903 A 25.493 25.493 0 0 0 62.264 32.284 A 23.526 23.526 0 0 0 61.8 31.503 Q 60.311 29.104 56.633 28.69 A 14.597 14.597 0 0 0 55 28.603 A 14.312 14.312 0 0 0 47.171 30.986 A 20.965 20.965 0 0 0 43.8 33.703 A 43.545 43.545 0 0 0 38.083 40.676 A 56.64 56.64 0 0 0 34.7 46.503 A 76.535 76.535 0 0 0 29.177 60.973 A 86.101 86.101 0 0 0 28.6 63.203 Q 26.4 72.203 26.5 79.903 A 36.044 36.044 0 0 0 26.955 85.313 Q 27.65 89.516 29.4 92.703 Q 31.877 97.214 36.857 97.735 A 12.909 12.909 0 0 0 38.2 97.803 Z";



var figura3 = draw.path(c);
figura3.fill('#fff').stroke({ color: 'black' , width: 20 });
figura3.size(180, 180).move(30, 30);

// Agregar borde externo

var figura2BordeExterno = draw.path(c);
figura2BordeExterno.fill('none').stroke({ color: 'white', width: 18 });
figura2BordeExterno.size(180, 180).move(30, 30);
/* .stroke({ color: 'blue', width: 4 });
figura2BordeExterno.size(188, 188).move(6, 6); */





var figura2 = draw.path(c);
figura2.fill('#fff').stroke({ color: 'red' , width: 1 });
figura2.size(180, 180).move(30, 30);